<!DOCTYPE HTML>
<html>
<head>
    <title>智能家居模拟显示模块 </title>
    <link href="css/style.css" rel='stylesheet' type='text/css'/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.magnific-popup.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/modernizr.custom.53451.js"></script>
    <script>

        if (sessionStorage.getItem("userId") == null || sessionStorage.getItem("userId") == "") {
            window.location.href = "login.html";
        }

        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);
        function hideURLbar() {
            window.scrollTo(0, 1);
        }
        $(document).ready(function () {
            $('.popup-with-zoom-anim').magnificPopup({
                type: 'inline',
                fixedContentPos: false,
                fixedBgPos: true,
                overflowY: 'auto',
                closeBtnInside: true,
                preloader: false,
                midClick: true,
                removalDelay: 300,
                mainClass: 'my-mfp-zoom-in'
            });

        });

        function updateStatus() {
            jQuery.ajax({
                url: '/svmclassifier/smarthome/messages.do',
                type: 'post',
                dataType: 'text',
                data: {
                    userId: window.sessionStorage.getItem("userId")
                },
                success: function (data) {
                    //alert(data);
                    data = JSON.parse(data);
                    if (data != null) {
                        //更新显示
                        for (var i = 0; i < data.length; i++) {
                            if (data[i].msg == 11.0) {
                                $("#light1-text").css("background-color", "blue");
                                $("#light1-status").text("开启")
                            } else if (data[i].msg == 12.0) {
                                $("#light1-text").css("background-color", "gray");
                                $("#light1-status").text("关闭")
                            } else if (data[i].msg == 21.0) {
                                $("#light2-text").css("background-color", "blue");
                                $("#light2-status").text("开启")
                            } else if (data[i].msg == 22.0) {
                                $("#light2-text").css("background-color", "gray");
                                $("#light2-status").text("关闭")
                            } else if (data[i].msg == 31.0) {
                                $("#tv1-text").css("background-color", "blue");
                                $("#tv1-status").text("开启")
                            } else if (data[i].msg == 32.0) {
                                $("#tv1-text").css("background-color", "gray");
                                $("#tv1-status").text("关闭")
                            }
                        }
                    }
                }
            });
            setTimeout("updateStatus();", 600);
        }
        updateStatus();
    </script>
</head>
<body>
<div class="pricing-plans">
    <div class="wrap">
        <div class="price-head">
            <h1>智能家居模拟显示模块</h1>
        </div>
        <div class="pricing-grids">
            <div class="pricing-grid1">
                <div class="price-value two" id="light1-text">
                    <h5>电灯1</h5>
                </div>
                <div class="price-bg">
                    <ul>
                        <li><a id="light1-status">开启</a></li>
                    </ul>
                </div>
            </div>
            <div class="pricing-grid2">
                <div class="price-value two" id="light2-text">
                    <h5>电灯2</h5>
                </div>
                <div class="price-bg">
                    <ul>
                        <li><a id="light2-status">开启</a></li>
                    </ul>
                </div>
            </div>
            <div class="pricing-grid3">
                <div class="price-value two" id="tv1-text">
                    <h5>电视1</h5>
                </div>
                <div class="price-bg">
                    <ul>
                        <li><a id="tv1-status">开启</a></li>
                    </ul>
                </div>
            </div>
            <div class="clear"></div>
            <!--pop-up-grid-->
            <div id="small-dialog" class="mfp-hide">
                <div class="pop_up">
                    <div class="payment-online-form-left">
                        <form>
                            <h4><span class="shipping"> </span>Shipping</h4>
                            <ul>
                                <li><input class="text-box-dark" type="text" value="Frist Name"
                                           onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Frist Name';}"></li>
                                <li><input class="text-box-dark" type="text" value="Last Name"
                                           onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Last Name';}"></li>
                            </ul>
                            <ul>
                                <li><input class="text-box-dark" type="text" value="Email" onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Email';}"></li>
                                <li><input class="text-box-dark" type="text" value="Company Name"
                                           onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Company Name';}"></li>
                            </ul>
                            <ul>
                                <li><input class="text-box-dark" type="text" value="Phone" onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Phone';}"></li>
                                <li><input class="text-box-dark" type="text" value="Address" onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Address';}"></li>
                                <div class="clear"></div>
                            </ul>
                            <div class="clear"></div>
                            <ul class="payment-type">
                                <h4><span class="payment"> </span> Payments</h4>
                                <li><span class="col_checkbox">
													<input id="3" class="css-checkbox1" type="checkbox">
													<label for="3" name="demo_lbl_1" class="css-label1"> </label>
													<a class="visa" href="#"> </a>
													</span>

                                </li>
                                <li>
													<span class="col_checkbox">
														<input id="4" class="css-checkbox2" type="checkbox">
														<label for="4" name="demo_lbl_2" class="css-label2"> </label>
														<a class="paypal" href="#"> </a>
													</span>
                                </li>
                                <div class="clear"></div>
                            </ul>
                            <ul>
                                <li><input class="text-box-dark" type="text" value="Card Number"
                                           onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Card Number';}"></li>
                                <li><input class="text-box-dark" type="text" value="Name on card"
                                           onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Name on card';}"></li>
                                <div class="clear"></div>
                            </ul>
                            <ul>
                                <li><input class="text-box-light hasDatepicker" type="text" id="datepicker"
                                           value="Expiration Date" onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Expiration Date';}"><em
                                        class="pay-date"> </em></li>
                                <li><input class="text-box-dark" type="text" value="Security Code"
                                           onfocus="this.value = '';"
                                           onblur="if (this.value == '') {this.value = 'Security Code';}"></li>
                                <div class="clear"></div>
                            </ul>
                            <ul class="payment-sendbtns">
                                <li><input type="reset" value="Cancel"></li>
                                <li><input type="submit" value="Process order"></li>
                            </ul>
                            <div class="clear"></div>
                        </form>
                    </div>
                </div>
            </div>
            <!--pop-up-grid-->
        </div>
        <div class="clear"></div>
    </div>

</div>
<!--//End-pricingplans-->
<!-- /start-copyright-->
<div class="footer">
    <div class="wrap">
        <p>&copy; 2016 All rights Reserved | 朱轲 @ 重庆邮电大学</p>
    </div>
</div>
<!--//End-copyright-->
</body>
</html>		